import{_ as T}from"./ZW1ugC3K.js";import{P as R}from"./DS1kY-O5.js";import{_ as A,c as l,o as a,a as t,k as _,l as B,F as b,r as w,n as h,j as D,m as v,q as M,u as N,b as p,w as x,i as P,t as c,d as y}from"./CXfHXS8d.js";import{u as G}from"./lDOr6fUi.js";const j=window.setInterval,E={props:{images:{type:Array,required:!0,default:()=>[]},interval:{type:Number,default:5e3}},data(){return{activeIndex:0,autoplayTimer:null}},mounted(){this.startAutoplay()},beforeUnmount(){this.stopAutoplay()},methods:{setActiveImage(f){this.activeIndex=f,this.restartAutoplay()},prevImage(){this.images.length<=1||(this.activeIndex=this.activeIndex===0?this.images.length-1:this.activeIndex-1,this.restartAutoplay())},nextImage(){this.images.length<=1||(this.activeIndex=(this.activeIndex+1)%this.images.length,this.restartAutoplay())},startAutoplay(){this.images.length<=1||(this.autoplayTimer=j(()=>{this.nextImage()},this.interval))},stopAutoplay(){this.autoplayTimer&&(clearInterval(this.autoplayTimer),this.autoplayTimer=null)},restartAutoplay(){this.stopAutoplay(),this.startAutoplay()}}},L={class:"product-carousel"},O={class:"relative overflow-hidden rounded-lg bg-gray-100"},$=["src","alt"],z=["disabled"],Q=["disabled"],S={key:0,class:"absolute bottom-2 left-0 right-0 flex justify-center space-x-2"},V=["onClick"];function q(f,r,o,n,g,i){return a(),l("div",L,[t("div",O,[t("div",{class:"carousel-container",style:B({transform:`translateX(-${g.activeIndex*100}%)`})},[(a(!0),l(b,null,w(o.images,(d,u)=>(a(),l("div",{key:u,class:"carousel-slide"},[t("img",{src:d,alt:`Product image ${u+1}`,class:"w-full h-64 object-contain"},null,8,$)]))),128))],4),t("button",{onClick:r[0]||(r[0]=(...d)=>i.prevImage&&i.prevImage(...d)),class:h(["absolute left-2 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-2 shadow hover:bg-gray-100 transition-colors",{"opacity-50 cursor-not-allowed":o.images.length<=1}]),disabled:o.images.length<=1},r[2]||(r[2]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),10,z),t("button",{onClick:r[1]||(r[1]=(...d)=>i.nextImage&&i.nextImage(...d)),class:h(["absolute right-2 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-2 shadow hover:bg-gray-100 transition-colors",{"opacity-50 cursor-not-allowed":o.images.length<=1}]),disabled:o.images.length<=1},r[3]||(r[3]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),10,Q),o.images.length>1?(a(),l("div",S,[(a(!0),l(b,null,w(o.images,(d,u)=>(a(),l("button",{key:u,onClick:I=>i.setActiveImage(u),class:h(["w-2 h-2 rounded-full transition-all",u===g.activeIndex?"bg-orange-500":"bg-gray-300"]),"aria-label":"Go to slide"},null,10,V))),128))])):_("",!0)])])}const U=A(E,[["render",q],["__scopeId","data-v-e4bd9749"]]),F={class:"min-h-screen bg-white"},Y={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4"},H={class:"flex","aria-label":"Breadcrumb"},K={class:"flex items-center space-x-2"},W={class:"flex items-center"},X={class:"flex items-center"},J={key:0,class:"ml-2 text-gray-700 font-medium"},Z={key:0,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 flex justify-center"},tt={key:1,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},et={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},ot={class:"bg-gray-100 rounded-lg overflow-hidden"},st={class:"text-3xl font-bold text-gray-900 mt-2"},at={class:"flex items-center mt-4"},lt={class:"flex"},rt={class:"mt-8 grid grid-cols-2 gap-8"},nt={class:"flex items-center border border-gray-300 rounded"},it=["disabled"],dt={class:"px-4 py-1 text-center"},ut=["disabled"],ct={class:"text-xl font-medium text-gray-900"},gt={key:2,class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 text-center"},mt=D({__name:"[codigo]",setup(f){G({title:()=>{var s;return((s=o.value)==null?void 0:s.nombre)||"Producto"},meta:[{name:"description",content:()=>{var s;return((s=o.value)==null?void 0:s.nombre)||"Detalles del producto"}},{property:"og:title",content:()=>{var s;return((s=o.value)==null?void 0:s.nombre)||"Producto"}},{property:"og:description",content:()=>{var s,e;return`${(s=o.value)==null?void 0:s.nombre} - ${(e=o.value)==null?void 0:e.categoria}`}},{property:"og:image",content:()=>{var s;return((s=o.value)==null?void 0:s.imagen)||""}},{property:"og:type",content:"product"},{name:"twitter:card",content:"summary_large_image"}]});const r=N(),o=v(null),n=v(1),g=v(!0),i=v([]);M(async()=>{try{const e=await(await fetch(`/api/articulos/${r.params.codigo}`)).json();e&&(o.value=new R(e.ART_COD,e.ART_DESCRIPCION,e.LINEA,e.PRECIO,e.ART_DIR_IMAG1,e.STOCK),i.value=[e.ART_DIR_IMAG1,e.ART_DIR_IMAG2||e.ART_DIR_IMAG1,e.ART_DIR_IMAG3||e.ART_DIR_IMAG1].filter(Boolean))}catch(s){console.error("Error fetching product:",s)}finally{g.value=!1}});const d=()=>{o.value&&n.value<o.value.stock&&n.value++},u=()=>{n.value>1&&n.value--},I=()=>{console.log("Adding to cart:",o.value,"Quantity:",n.value)},C=()=>{console.log("Buying now:",o.value,"Quantity:",n.value)};return(s,e)=>{const m=T;return a(),l("div",F,[t("div",Y,[t("nav",H,[t("ol",K,[t("li",null,[p(m,{to:"/",class:"text-gray-500 hover:text-gray-700"},{default:x(()=>e[0]||(e[0]=[y("Products")])),_:1})]),t("li",W,[e[1]||(e[1]=t("svg",{class:"h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),o.value?(a(),P(m,{key:0,to:`/categoria/${o.value.categoria}`,class:"ml-2 text-gray-500 hover:text-gray-700"},{default:x(()=>[y(c(o.value.categoria),1)]),_:1},8,["to"])):_("",!0)]),t("li",X,[e[2]||(e[2]=t("svg",{class:"h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),o.value?(a(),l("span",J,c(o.value.nombre),1)):_("",!0)])])])]),g.value?(a(),l("div",Z,e[3]||(e[3]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-gray-900"},null,-1)]))):o.value?(a(),l("div",tt,[t("div",et,[t("div",ot,[p(U,{images:i.value},null,8,["images"])]),t("div",null,[p(m,{to:`/categoria/${o.value.categoria}`,class:"text-blue-600 hover:underline"},{default:x(()=>[y(c(o.value.categoria),1)]),_:1},8,["to"]),t("h1",st,c(o.value.nombre),1),t("div",at,[t("div",lt,[(a(),l(b,null,w(5,k=>t("svg",{key:k,class:h([k<=4?"text-yellow-400":"text-gray-300","h-5 w-5 flex-shrink-0"]),fill:"currentColor",viewBox:"0 0 20 20"},e[4]||(e[4]=[t("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118l-2.8-2.034c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)]),2)),64))]),e[5]||(e[5]=t("p",{class:"ml-2 text-sm text-gray-600"},"4 reviews",-1))]),e[8]||(e[8]=t("div",{class:"mt-6"},[t("p",{class:"text-base text-gray-700"}," Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut ullamcorper leo, eget euismod orci. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Vestibulum ultricies aliquam. ")],-1)),t("div",rt,[t("div",null,[e[6]||(e[6]=t("h3",{class:"text-sm font-medium text-gray-700 mb-2"},"QUANTITY",-1)),t("div",nt,[t("button",{onClick:u,class:"px-3 py-1 text-gray-600 hover:bg-gray-100",disabled:n.value<=1}," - ",8,it),t("span",dt,c(n.value),1),t("button",{onClick:d,class:"px-3 py-1 text-gray-600 hover:bg-gray-100",disabled:o.value&&n.value>=o.value.stock}," + ",8,ut)])]),t("div",null,[e[7]||(e[7]=t("h3",{class:"text-sm font-medium text-gray-700 mb-2"},"PRICE",-1)),t("p",ct,"Gs. "+c(o.value.precio),1)])]),t("div",{class:"mt-8 flex gap-4"},[t("button",{onClick:I,class:"flex-1 bg-white border border-orange-500 text-orange-500 py-3 px-6 rounded hover:bg-orange-50 font-medium"}," ADD TO CART "),t("button",{onClick:C,class:"flex-1 bg-orange-500 border border-orange-500 text-white py-3 px-6 rounded hover:bg-orange-600 font-medium"}," BUY NOW ")])])])])):(a(),l("div",gt,[e[10]||(e[10]=t("h2",{class:"text-2xl font-bold text-gray-900"},"Product not found",-1)),e[11]||(e[11]=t("p",{class:"mt-2 text-gray-600"},"The product you're looking for doesn't exist or has been removed.",-1)),p(m,{to:"/",class:"mt-4 inline-block text-blue-600 hover:underline"},{default:x(()=>e[9]||(e[9]=[y("Return to home page")])),_:1})]))])}}}),ht=A(mt,[["__scopeId","data-v-69f2e72d"]]);export{ht as default};
